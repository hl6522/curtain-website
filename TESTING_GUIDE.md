# 测试指南 - 多窗报价和用户身份管理

## 🆕 新功能概述

### 1. 多窗报价功能
- 支持添加多个窗户到同一个报价请求
- 每个窗户可以有不同的类型、尺寸和特殊要求
- 自动累计窗户数量
- 动态添加/删除窗户

### 2. 用户身份管理
- 登录时选择用户身份（客户/管理员）
- 不同身份登录后显示不同功能
- 管理员自动跳转到管理面板
- 客户显示客户账户功能

## 🧪 测试步骤

### 测试多窗报价功能

#### 步骤1：打开报价表单
1. 访问 `index.html`
2. 滚动到"获取免费报价"部分
3. 验证表单显示"窗户信息"部分

#### 步骤2：测试添加窗户
1. 选择房间类型（如：客厅）
2. 验证默认显示第一个窗户
3. 点击"添加另一个窗户"按钮
4. 验证新窗户被添加
5. 验证窗户编号正确（Window 1, Window 2...）

#### 步骤3：填写窗户信息
1. 为每个窗户选择类型（如：单扇窗、双扇窗）
2. 输入尺寸（宽度和高度）
3. 添加特殊要求（可选）
4. 验证所有字段都正确保存

#### 步骤4：测试删除窗户
1. 添加3-4个窗户
2. 点击第二个窗户的删除按钮（×）
3. 验证窗户被删除
4. 验证剩余窗户重新编号

#### 步骤5：提交报价
1. 填写客户信息（邮箱、电话）
2. 选择窗帘风格和预算
3. 添加附加说明
4. 点击"提交报价请求"
5. 验证成功提示
6. 验证表单重置

### 测试用户身份管理

#### 步骤1：测试客户注册
1. 点击导航栏的"登录"
2. 切换到"注册"标签
3. 选择用户类型：客户
4. 填写所有必填字段
5. 提交注册
6. 验证成功提示

#### 步骤2：测试管理员注册
1. 在注册表单中选择用户类型：管理员
2. 填写所有必填字段
3. 提交注册
4. 验证成功提示

#### 步骤3：测试客户登录
1. 切换到"登录"标签
2. 选择用户类型：客户
3. 输入邮箱和密码
4. 点击登录
5. 验证登录按钮变为"我的账户"
6. 点击"我的账户"验证客户功能提示

#### 步骤4：测试管理员登录
1. 选择用户类型：管理员
2. 输入邮箱和密码
3. 点击登录
4. 验证登录按钮变为"管理面板"
5. 点击"管理面板"
6. 验证跳转到 `admin.html`

#### 步骤5：测试管理员权限
1. 在管理面板中验证所有功能正常
2. 检查报价请求显示多窗信息
3. 验证可以查看详细报价信息
4. 测试登出功能

#### 步骤6：测试权限控制
1. 直接访问 `admin.html`（未登录）
2. 验证被重定向到主页
3. 以客户身份登录后访问 `admin.html`
4. 验证显示"访问被拒绝"提示

## 🔍 验证要点

### 多窗报价验证
- [ ] 默认显示一个窗户
- [ ] 可以添加多个窗户
- [ ] 可以删除窗户（除第一个外）
- [ ] 窗户编号正确
- [ ] 所有窗户信息正确保存
- [ ] 表单提交后正确重置

### 用户身份验证
- [ ] 注册时可以选择用户类型
- [ ] 登录时可以选择用户类型
- [ ] 客户登录后显示客户功能
- [ ] 管理员登录后显示管理功能
- [ ] 权限控制正确工作
- [ ] 登出功能正常

### 数据兼容性
- [ ] 新格式报价正确显示
- [ ] 旧格式报价仍然兼容
- [ ] 管理面板正确显示多窗信息
- [ ] 报价详情正确显示

## 🐛 常见问题

### 问题1：窗户无法添加
**解决方案：** 检查JavaScript控制台是否有错误，确保所有函数正确加载

### 问题2：登录后功能不正确
**解决方案：** 检查localStorage中的用户信息，确保用户类型正确保存

### 问题3：管理面板无法访问
**解决方案：** 确保以管理员身份登录，检查localStorage中的用户类型

### 问题4：多窗信息显示错误
**解决方案：** 检查报价数据结构，确保新格式正确保存

## 📱 响应式测试

### 桌面端
- 验证多窗表单布局正确
- 检查表格显示完整

### 平板端
- 验证表单在小屏幕上的显示
- 检查按钮和输入框大小合适

### 移动端
- 验证触摸操作正常
- 检查表单在小屏幕上的可用性

## 🌐 语言测试

### 英文版本
1. 确保所有新文本正确显示英文
2. 验证多窗表单的英文标签

### 中文版本
1. 切换到中文语言
2. 验证所有新文本正确显示中文
3. 检查多窗表单的中文标签

## 📊 数据测试

### 测试数据
- 创建包含1个窗户的报价
- 创建包含3个窗户的报价
- 创建包含不同窗户类型的报价
- 测试特殊要求和备注字段

### 数据持久化
- 验证报价数据正确保存到localStorage
- 检查页面刷新后数据仍然存在
- 验证管理面板正确读取数据

## ✅ 测试完成标准

- [ ] 多窗报价功能完全正常
- [ ] 用户身份管理正确工作
- [ ] 权限控制有效
- [ ] 数据兼容性良好
- [ ] 响应式设计正常
- [ ] 双语支持完整
- [ ] 错误处理适当
- [ ] 用户体验流畅

---

**注意：** 这是一个演示系统，所有数据都保存在浏览器的localStorage中。在生产环境中，需要实现真实的数据库和用户认证系统。

