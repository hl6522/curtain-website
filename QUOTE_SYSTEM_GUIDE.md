# 窗帘报价系统功能说明

## 系统概述

新的报价系统提供了更直观、更灵活的房间选择和窗户配置功能，支持多房间管理、自动保存草稿和预览确认。

## 主要功能

### 1. 房间选择系统

#### 房间类型
- **客厅 (Living Room)** - 优雅客厅窗帘
- **卧室 (Bedroom)** - 舒适卧室窗帘  
- **厨房 (Kitchen)** - 实用厨房窗帘
- **浴室 (Bathroom)** - 防潮浴室窗帘
- **餐厅 (Dining Room)** - 温馨餐厅窗帘
- **家庭办公室 (Home Office)** - 专业办公窗帘

#### 选择方式
- 点击房间卡片上的"选择"按钮
- 每个房间都有对应的预览图片
- 支持多房间同时选择
- 已选房间会高亮显示

### 2. 窗户配置系统

#### 窗户类型
- **标准窗户 (Standard Window)** - 常见矩形窗户
- **凸窗 (Bay Window)** - 向外突出的窗户
- **平开窗 (Casement Window)** - 侧开式窗户
- **推拉窗 (Sliding Window)** - 水平滑动窗户
- **拱形窗 (Arched Window)** - 顶部弧形窗户

#### 配置参数
- **尺寸**: 宽度和高度（厘米）
- **数量**: 相同类型窗户的数量
- **备注**: 特殊要求或说明

#### 操作功能
- 每个房间可添加多个窗户
- 支持动态添加/删除窗户
- 第一个窗户不可删除（至少保留一个）
- 自动重新编号

### 3. 自动保存功能

#### 草稿保存
- 点击"保存草稿"按钮保存当前进度
- 数据自动保存到浏览器本地存储
- 页面刷新后自动恢复草稿
- 支持跨会话保存

#### 数据恢复
- 页面加载时自动检查草稿
- 一键恢复所有房间和窗户信息
- 恢复表单填写状态
- 保持用户输入的所有数据

### 4. 预览确认系统

#### 预览内容
- **房间和窗户摘要**: 显示所有选择的房间和窗户详情
- **偏好设置**: 窗帘风格、预算范围、附加说明
- **联系信息**: 邮箱、电话号码

#### 确认流程
1. 填写完所有信息后点击"预览并提交"
2. 系统验证必填信息
3. 显示详细预览页面
4. 用户确认无误后提交
5. 显示成功提交确认

## 使用流程

### 第一步：选择房间
1. 浏览房间类型
2. 点击需要窗帘的房间
3. 配置房间内的窗户信息
4. 保存房间配置

### 第二步：填写偏好
1. 选择窗帘风格（可选）
2. 选择预算范围（可选）
3. 填写附加说明（可选）

### 第三步：联系信息
1. 填写邮箱地址
2. 填写电话号码
3. 保存草稿（可选）

### 第四步：预览提交
1. 点击"预览并提交"
2. 检查所有信息
3. 确认无误后提交
4. 等待报价回复

## 技术特性

### 响应式设计
- 支持桌面和移动设备
- 自适应布局
- 触摸友好的交互

### 数据持久化
- 使用 localStorage 存储数据
- 支持离线操作
- 数据安全可靠

### 多语言支持
- 中英文双语界面
- 动态语言切换
- 本地化内容显示

### 用户体验
- 实时表单验证
- 友好的错误提示
- 平滑的动画效果
- 直观的操作反馈

## 数据格式

### 房间数据结构
```json
{
  "id": "living",
  "name": "Living Room",
  "nameZh": "客厅",
  "image": "images/gallery/elegant-living-room.jpg",
  "windows": [
    {
      "type": "standard",
      "width": 120,
      "height": 150,
      "quantity": 2,
      "notes": "需要遮光功能"
    }
  ],
  "notes": "客厅需要温馨的氛围"
}
```

### 报价数据结构
```json
{
  "rooms": [...],
  "style": "modern",
  "budget": "mid",
  "notes": "整体风格要统一",
  "email": "customer@example.com",
  "phone": "13800138000",
  "timestamp": "2024-01-01T00:00:00.000Z"
}
```

## 维护说明

### 添加新房间类型
1. 在 `roomConfig` 中添加房间信息
2. 准备对应的房间图片
3. 更新房间选择界面
4. 测试新房间功能

### 添加新窗户类型
1. 在 `getWindowTypeName` 中添加类型名称
2. 更新窗户类型选择器
3. 确保数据兼容性

### 修改表单字段
1. 更新HTML表单结构
2. 修改JavaScript验证逻辑
3. 更新预览和提交功能
4. 测试所有相关功能

## 故障排除

### 常见问题
1. **草稿无法加载**: 检查浏览器localStorage权限
2. **图片显示异常**: 确认图片路径正确
3. **表单提交失败**: 检查必填字段是否完整
4. **语言切换异常**: 刷新页面重新加载

### 调试方法
1. 打开浏览器开发者工具
2. 查看Console错误信息
3. 检查localStorage数据
4. 验证DOM元素存在性

## 未来扩展

### 计划功能
- 房间模板系统
- 价格计算器
- 在线支付集成
- 进度跟踪系统
- 客户管理系统

### 技术改进
- 数据库集成
- API接口开发
- 移动应用开发
- 云存储支持
- 性能优化

